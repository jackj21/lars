---
title: "LarsCrime"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(lars)
library(ggplot2)

social_data = read.csv("ACS_Social_Characteristics_DC_Ward.csv")

x = social_data[order(social_data$WARD),]
x = subset(x, select = -c(OBJECTID, STATEFP, SLDUST, GEOID, NAMELSAD, LSAD,	LSY, MTFCC, FUNCSTAT, ALAND, AWATER, INTPTLAT, INTPTLON, NAME, WARD, GIS_ID,	SHAPEAREA, SHAPELEN))
print(ncol(x))
x = as.matrix(x)

social_data = read.csv("dc-crimes-search-results.csv")
y = as.matrix(data.frame(y=c(
  nrow(social_data[social_data$WARD == 1,]),
  nrow(social_data[social_data$WARD == 2,]),
  nrow(social_data[social_data$WARD == 3,]),
  nrow(social_data[social_data$WARD == 4,]),
  nrow(social_data[social_data$WARD == 5,]),
  nrow(social_data[social_data$WARD == 6,]),
  nrow(social_data[social_data$WARD == 7,]),
  nrow(social_data[social_data$WARD == 8,])
)))

lars_fit = lars(x, y, type="lar", trace=TRUE)

summary(lars_fit)

print(coef(lars_fit))

plot(lars_fit)

fitted_values = predict.lars(lars_fit, type="fit", x, s=2)$fit

ggplot(data=as.data.frame(y), aes(x=fitted_values, y=y)) + geom_point() +
  labs(x='Predicted Values', y='Actual Values', title='Predicted vs. Actual Values')
```

MARITAL STATUS: Males 15 years and over: Never married
HOUSEHOLDS BY TYPE: Total households: Male householder, no spouse/partner present
HOUSEHOLDS BY TYPE: Total households: Male householder, no spouse/partner present: Householder living alone: 65 years and over
MARITAL STATUS: Males 15 years and over
HOUSEHOLDS BY TYPE: Total households: Male householder, no spouse/partner present: With own children of the householder under 18 years
SCHOOL ENROLLMENT: Population 3 years and over enrolled in school: Elementary school (grades 1-8)
MARITAL STATUS: Males 15 years and over: Divorced